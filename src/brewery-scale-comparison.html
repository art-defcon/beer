<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brewery Recipe Formats & Scale Presentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #1a1a1a;
            overflow: hidden;
        }
        
        .presentation-container {
            width: 100vw;
            height: 100vh;
            position: relative;
        }
        
        .slide {
            width: 100%;
            height: 100%;
            position: absolute;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px;
            opacity: 0;
            transform: translateX(100%);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }
        
        .slide.active {
            opacity: 1;
            transform: translateX(0);
        }
        
        .slide.prev {
            transform: translateX(-100%);
        }
        
        .slide-content {
            max-width: 1200px;
            width: 100%;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            max-height: 85vh;
            overflow-y: auto;
        }
        
        .navigation {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 100;
            background: rgba(0,0,0,0.8);
            padding: 15px 25px;
            border-radius: 50px;
            align-items: center;
        }
        
        .nav-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        .nav-btn:hover {
            background: #2980b9;
            transform: scale(1.05);
        }
        
        .nav-btn:disabled {
            background: #7f8c8d;
            cursor: not-allowed;
            transform: scale(1);
        }
        
        .slide-indicator {
            color: white;
            font-size: 14px;
            margin: 0 10px;
        }
        
        .dots {
            display: flex;
            gap: 8px;
            margin: 0 10px;
        }
        
        .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .dot.active {
            background: white;
            transform: scale(1.2);
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 2.5em;
        }
        
        h2 {
            color: #34495e;
            margin-bottom: 20px;
            font-size: 2em;
        }
        
        h3 {
            color: #34495e;
            margin: 20px 0 10px 0;
        }
        
        .code-example {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 20px 0;
        }
        
        .code-example pre {
            margin: 0;
            white-space: pre-wrap;
        }
        
        .xml {
            color: #d73a49;
        }
        
        .tag {
            color: #22863a;
        }
        
        .attribute {
            color: #6f42c1;
        }
        
        .value {
            color: #032f62;
        }
        
        .json-key {
            color: #d73a49;
        }
        
        .json-value {
            color: #032f62;
        }
        
        .json-string {
            color: #032f62;
        }
        
        /* Reuse styles from original */
        .scale-container {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            margin: 30px 0;
        }
        
        .scale-item {
            flex: 1;
            text-align: center;
            padding: 20px;
            border-radius: 8px;
            transition: transform 0.3s ease;
        }
        
        .scale-item:hover {
            transform: translateY(-5px);
        }
        
        .scale-item.private {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .scale-item.small {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }
        
        .scale-item.medium {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }
        
        .scale-item.large {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            color: #333;
        }
        
        .scale-icon {
            font-size: 48px;
            margin-bottom: 10px;
        }
        
        .scale-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .scale-volume {
            font-size: 14px;
            opacity: 0.9;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th {
            background: #34495e;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: 600;
        }
        
        td {
            padding: 12px;
            border-bottom: 1px solid #ecf0f1;
        }
        
        tr:hover {
            background-color: #f8f9fa;
        }
        
        .category-header {
            background: #ecf0f1;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .format-tag {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 12px;
            margin: 2px;
            background: #3498db;
            color: white;
        }
        
        .tool-tag {
            background: #2ecc71;
            color: white;
        }
        
        .system-tag {
            background: #e74c3c;
            color: white;
        }
        
        .isa88-diagram {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin: 30px 0;
        }
        
        .recipe-level {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }
        
        .recipe-level h4 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .arrow {
            text-align: center;
            font-size: 24px;
            color: #7f8c8d;
        }
        
        /* Mobile styles */
        @media (max-width: 768px) {
            body {
                overflow-y: auto;
                overflow-x: hidden;
                height: auto;
                min-height: 100vh;
            }
            
            .presentation-container {
                height: auto;
                min-height: 100vh;
                overflow: visible;
            }
            
            .slide {
                position: relative;
                height: auto;
                min-height: calc(100vh - 100px);
                padding: 10px;
                padding-bottom: 100px;
                display: block;
                opacity: 1;
                transform: none;
                transition: none;
            }
            
            .slide:not(.active) {
                display: none;
            }
            
            .slide-content {
                padding: 20px;
                max-height: none;
                margin: 0 auto;
                margin-bottom: 20px;
                border-radius: 10px;
                max-width: 100%;
            }
            
            .navigation {
                position: fixed;
                bottom: 0;
                left: 0;
                right: 0;
                width: 100%;
                padding: 10px;
                border-radius: 0;
                transform: none;
                background: rgba(0,0,0,0.95);
                flex-wrap: wrap;
                justify-content: space-between;
                gap: 5px;
            }
            
            .nav-btn {
                padding: 8px 16px;
                font-size: 14px;
            }
            
            .dots {
                display: none;
            }
            
            .slide-indicator {
                font-size: 12px;
                margin: 0 5px;
            }
            
            h1 {
                font-size: 1.8em;
                margin-bottom: 15px;
            }
            
            h2 {
                font-size: 1.5em;
                margin-bottom: 15px;
            }
            
            h3 {
                font-size: 1.2em;
                margin: 15px 0 10px 0;
            }
            
            h4 {
                font-size: 1.1em;
            }
            
            .scale-container {
                flex-direction: column;
                gap: 15px;
                margin: 20px 0;
            }
            
            .scale-item {
                padding: 15px;
            }
            
            .scale-icon {
                font-size: 36px;
            }
            
            .scale-title {
                font-size: 18px;
            }
            
            .scale-volume {
                font-size: 12px;
            }
            
            /* Hide tables on mobile and show card view instead */
            table {
                display: none;
            }
            
            /* Mobile-friendly card layout */
            .mobile-table-view {
                display: block;
                margin: 15px 0;
            }
            
            .mobile-card {
                background: #f8f9fa;
                border: 1px solid #dee2e6;
                border-radius: 8px;
                padding: 15px;
                margin-bottom: 15px;
            }
            
            .mobile-card-title {
                font-weight: bold;
                color: #2c3e50;
                margin-bottom: 10px;
                font-size: 16px;
                border-bottom: 2px solid #3498db;
                padding-bottom: 5px;
            }
            
            .mobile-card-row {
                display: flex;
                justify-content: space-between;
                padding: 5px 0;
                border-bottom: 1px solid #ecf0f1;
                font-size: 14px;
            }
            
            .mobile-card-row:last-child {
                border-bottom: none;
            }
            
            .mobile-card-label {
                font-weight: 600;
                color: #34495e;
                flex: 0 0 40%;
            }
            
            .mobile-card-value {
                flex: 0 0 55%;
                text-align: right;
            }
            
            /* Category headers in mobile view */
            .mobile-category-header {
                background: #34495e;
                color: white;
                padding: 10px;
                margin: 20px -15px 15px -15px;
                text-align: center;
                font-weight: bold;
                font-size: 14px;
            }
            
            /* Format tags in mobile */
            .mobile-card-value .format-tag,
            .mobile-card-value .tool-tag,
            .mobile-card-value .system-tag {
                display: inline-block;
                margin: 2px 0;
                font-size: 11px;
            }
            
            /* Make the comparison matrix more mobile-friendly */
            @media (max-width: 480px) {
                /* Stack format/tool/system tags vertically */
                .format-tag, .tool-tag, .system-tag {
                    display: block;
                    margin: 2px 0;
                    width: fit-content;
                }
                
                /* Even smaller font for very small screens */
                table {
                    font-size: 10px;
                }
                
                th, td {
                    padding: 4px 2px;
                }
                
                /* Minimum widths for very small screens */
                .slide:nth-child(7) table th,
                .slide:nth-child(7) table td {
                    min-width: 80px;
                }
                
                .slide:nth-child(7) table th:first-child,
                .slide:nth-child(7) table td:first-child {
                    min-width: 70px;
                }
            }
            
            .code-example {
                padding: 15px;
                font-size: 11px;
                overflow-x: auto;
                margin: 15px 0;
            }
            
            .code-example pre {
                font-size: 11px;
            }
            
            .isa88-diagram {
                gap: 15px;
                margin: 20px 0;
            }
            
            .recipe-level {
                padding: 15px;
                font-size: 14px;
            }
            
            .recipe-level h4 {
                margin-bottom: 8px;
            }
            
            .arrow {
                font-size: 20px;
                margin: 5px 0;
            }
            
            ul {
                margin-left: 15px;
                font-size: 14px;
            }
            
            li {
                margin-bottom: 6px;
            }
            
            .format-tag, .tool-tag, .system-tag {
                font-size: 11px;
                padding: 2px 6px;
                margin: 1px;
            }
            
            /* Improve touch targets */
            button, a, .dot {
                min-height: 44px;
                min-width: 44px;
            }
            
            /* Prevent horizontal scroll */
            * {
                max-width: 100vw;
            }
            
            /* Better grid layout for comparison */
            div[style*="grid-template-columns: 1fr 1fr"] {
                grid-template-columns: 1fr !important;
                gap: 15px !important;
            }
            
            div[style*="grid-template-columns: repeat(3, 1fr)"] {
                grid-template-columns: 1fr !important;
                gap: 10px !important;
            }
            
            /* Adjust inline styles for mobile */
            p[style*="font-size: 1.5em"] {
                font-size: 1.2em !important;
            }
            
            h1[style*="font-size: 3em"] {
                font-size: 2em !important;
            }
            
            div[style*="margin-top: 30px"] {
                margin-top: 20px !important;
            }
            
            div[style*="padding: 30px"] {
                padding: 20px !important;
            }
        }
        
        /* Desktop styles - show tables normally */
        @media (min-width: 769px) {
            table {
                display: table !important;
            }
            
            .mobile-table-view {
                display: none !important;
            }
        }
        
        /* Tablet styles */
        @media (min-width: 769px) and (max-width: 1024px) {
            .slide-content {
                padding: 30px;
                max-width: 90%;
            }
            
            h1 {
                font-size: 2.2em;
            }
            
            .scale-container {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .scale-item {
                width: calc(50% - 10px);
            }
            
            table {
                font-size: 14px;
            }
            
            .code-example {
                font-size: 13px;
            }
        }
    </style>
</head>
<body>
    <div class="presentation-container">
        <!-- Slide 1: Title Slide -->
        <div class="slide active">
            <div class="slide-content" style="text-align: center;">
                <h1 style="font-size: 3em; margin-bottom: 30px;">Brewery Recipe Formats & Scale</h1>
                <p style="font-size: 1.5em; color: #7f8c8d; margin-bottom: 40px;">From Homebrew to Industrial Production</p>
                <div class="scale-container">
                    <div class="scale-item private">
                        <div class="scale-icon">🏠</div>
                        <div class="scale-title">Private</div>
                    </div>
                    <div class="scale-item small">
                        <div class="scale-icon">🏪</div>
                        <div class="scale-title">Small</div>
                    </div>
                    <div class="scale-item medium">
                        <div class="scale-icon">🏭</div>
                        <div class="scale-title">Medium</div>
                    </div>
                    <div class="scale-item large">
                        <div class="scale-icon">🏢</div>
                        <div class="scale-title">Large</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Slide 2: Scale Overview -->
        <div class="slide">
            <div class="slide-content">
                <h1>Production Scale Overview</h1>
                <div class="scale-container">
                    <div class="scale-item private">
                        <div class="scale-icon">🏠</div>
                        <div class="scale-title">Private/Homebrew</div>
                        <div class="scale-volume">5-50 gallons/batch</div>
                    </div>
                    <div class="scale-item small">
                        <div class="scale-icon">🏪</div>
                        <div class="scale-title">Small Brewery</div>
                        <div class="scale-volume">1-15 BBL/batch</div>
                    </div>
                    <div class="scale-item medium">
                        <div class="scale-icon">🏭</div>
                        <div class="scale-title">Medium Brewery</div>
                        <div class="scale-volume">15-60 BBL/batch</div>
                    </div>
                    <div class="scale-item large">
                        <div class="scale-icon">🏢</div>
                        <div class="scale-title">Large Industry</div>
                        <div class="scale-volume">100+ BBL/batch</div>
                    </div>
                </div>
                
                <table>
                    <thead>
                        <tr>
                            <th>Scale</th>
                            <th>Annual Output</th>
                            <th>Typical Systems</th>
                            <th>Recipe Format</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Private</strong></td>
                            <td>50-500 gallons</td>
                            <td>Manual / Basic controllers</td>
                            <td>BeerXML, Paper</td>
                        </tr>
                        <tr>
                            <td><strong>Small</strong></td>
                            <td>500-15,000 BBL</td>
                            <td>BCS, BrewPi</td>
                            <td>BeerXML, Custom</td>
                        </tr>
                        <tr>
                            <td><strong>Medium</strong></td>
                            <td>15,000-500,000 BBL</td>
                            <td>PLC-based systems</td>
                            <td>ISA-88 based</td>
                        </tr>
                        <tr>
                            <td><strong>Large</strong></td>
                            <td>6M+ BBL</td>
                            <td>Full SCADA/MES/ERP</td>
                            <td>ISA-88/S88, PackML</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Slide 3: BeerXML Overview -->
        <div class="slide">
            <div class="slide-content">
                <h1>BeerXML Format</h1>
                <p style="font-size: 1.2em; margin-bottom: 20px;">The standard for homebrewing and small breweries</p>
                
                <h3>Key Features:</h3>
                <ul style="margin-bottom: 30px;">
                    <li>Human-readable XML format</li>
                    <li>Designed for recipe sharing between homebrewers</li>
                    <li>Supported by most homebrew software</li>
                    <li>Version 1.0 (2005) and 2.0 (2011)</li>
                </ul>
                
                <h3>Example Recipe Fragment:</h3>
                <div class="code-example">
                    <pre><span class="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="tag">&lt;RECIPES&gt;</span>
  <span class="tag">&lt;RECIPE&gt;</span>
    <span class="tag">&lt;NAME&gt;</span>American IPA<span class="tag">&lt;/NAME&gt;</span>
    <span class="tag">&lt;VERSION&gt;</span>1<span class="tag">&lt;/VERSION&gt;</span>
    <span class="tag">&lt;TYPE&gt;</span>All Grain<span class="tag">&lt;/TYPE&gt;</span>
    <span class="tag">&lt;BREWER&gt;</span>John Doe<span class="tag">&lt;/BREWER&gt;</span>
    <span class="tag">&lt;BATCH_SIZE&gt;</span>20.0<span class="tag">&lt;/BATCH_SIZE&gt;</span>
    <span class="tag">&lt;BOIL_SIZE&gt;</span>25.0<span class="tag">&lt;/BOIL_SIZE&gt;</span>
    <span class="tag">&lt;BOIL_TIME&gt;</span>60.0<span class="tag">&lt;/BOIL_TIME&gt;</span>
    <span class="tag">&lt;EFFICIENCY&gt;</span>72.0<span class="tag">&lt;/EFFICIENCY&gt;</span>
    
    <span class="tag">&lt;FERMENTABLES&gt;</span>
      <span class="tag">&lt;FERMENTABLE&gt;</span>
        <span class="tag">&lt;NAME&gt;</span>Pale Malt (2 Row)<span class="tag">&lt;/NAME&gt;</span>
        <span class="tag">&lt;VERSION&gt;</span>1<span class="tag">&lt;/VERSION&gt;</span>
        <span class="tag">&lt;TYPE&gt;</span>Grain<span class="tag">&lt;/TYPE&gt;</span>
        <span class="tag">&lt;AMOUNT&gt;</span>4.5<span class="tag">&lt;/AMOUNT&gt;</span>
        <span class="tag">&lt;YIELD&gt;</span>78.0<span class="tag">&lt;/YIELD&gt;</span>
        <span class="tag">&lt;COLOR&gt;</span>2.0<span class="tag">&lt;/COLOR&gt;</span>
      <span class="tag">&lt;/FERMENTABLE&gt;</span>
    <span class="tag">&lt;/FERMENTABLES&gt;</span>
    
    <span class="tag">&lt;HOPS&gt;</span>
      <span class="tag">&lt;HOP&gt;</span>
        <span class="tag">&lt;NAME&gt;</span>Cascade<span class="tag">&lt;/NAME&gt;</span>
        <span class="tag">&lt;AMOUNT&gt;</span>0.028<span class="tag">&lt;/AMOUNT&gt;</span>
        <span class="tag">&lt;USE&gt;</span>Boil<span class="tag">&lt;/USE&gt;</span>
        <span class="tag">&lt;TIME&gt;</span>60.0<span class="tag">&lt;/TIME&gt;</span>
        <span class="tag">&lt;ALPHA&gt;</span>5.5<span class="tag">&lt;/ALPHA&gt;</span>
      <span class="tag">&lt;/HOP&gt;</span>
    <span class="tag">&lt;/HOPS&gt;</span>
  <span class="tag">&lt;/RECIPE&gt;</span>
<span class="tag">&lt;/RECIPES&gt;</span></pre>
                </div>
            </div>
        </div>
        
        <!-- Slide 4: Brewfather JSON -->
        <div class="slide">
            <div class="slide-content">
                <h1>Brewfather JSON Format</h1>
                <p style="font-size: 1.2em; margin-bottom: 20px;">Modern JSON-based format for cloud-enabled brewing</p>
                
                <h3>Key Features:</h3>
                <ul style="margin-bottom: 30px;">
                    <li>JSON format - more compact than XML</li>
                    <li>Cloud synchronization friendly</li>
                    <li>Better support for modern features (water chemistry, mash pH)</li>
                    <li>Real-time collaboration capabilities</li>
                </ul>
                
                <h3>Example Recipe Fragment:</h3>
                <div class="code-example">
                    <pre>{
  <span class="json-key">"name"</span>: <span class="json-string">"American IPA"</span>,
  <span class="json-key">"type"</span>: <span class="json-string">"All Grain"</span>,
  <span class="json-key">"author"</span>: <span class="json-string">"John Doe"</span>,
  <span class="json-key">"batchSize"</span>: <span class="json-value">20</span>,
  <span class="json-key">"boilTime"</span>: <span class="json-value">60</span>,
  <span class="json-key">"efficiency"</span>: <span class="json-value">72</span>,
  <span class="json-key">"og"</span>: <span class="json-value">1.062</span>,
  <span class="json-key">"fg"</span>: <span class="json-value">1.012</span>,
  <span class="json-key">"abv"</span>: <span class="json-value">6.5</span>,
  <span class="json-key">"ibu"</span>: <span class="json-value">65</span>,
  
  <span class="json-key">"fermentables"</span>: [
    {
      <span class="json-key">"name"</span>: <span class="json-string">"Pale Malt (2 Row)"</span>,
      <span class="json-key">"amount"</span>: <span class="json-value">4.5</span>,
      <span class="json-key">"unit"</span>: <span class="json-string">"kg"</span>,
      <span class="json-key">"ppg"</span>: <span class="json-value">37</span>,
      <span class="json-key">"color"</span>: <span class="json-value">2</span>,
      <span class="json-key">"percentage"</span>: <span class="json-value">90</span>
    },
    {
      <span class="json-key">"name"</span>: <span class="json-string">"Munich Malt"</span>,
      <span class="json-key">"amount"</span>: <span class="json-value">0.5</span>,
      <span class="json-key">"unit"</span>: <span class="json-string">"kg"</span>,
      <span class="json-key">"ppg"</span>: <span class="json-value">37</span>,
      <span class="json-key">"color"</span>: <span class="json-value">9</span>,
      <span class="json-key">"percentage"</span>: <span class="json-value">10</span>
    }
  ],
  
  <span class="json-key">"hops"</span>: [
    {
      <span class="json-key">"name"</span>: <span class="json-string">"Cascade"</span>,
      <span class="json-key">"amount"</span>: <span class="json-value">28</span>,
      <span class="json-key">"unit"</span>: <span class="json-string">"g"</span>,
      <span class="json-key">"time"</span>: <span class="json-value">60</span>,
      <span class="json-key">"use"</span>: <span class="json-string">"Boil"</span>,
      <span class="json-key">"alpha"</span>: <span class="json-value">5.5</span>,
      <span class="json-key">"ibu"</span>: <span class="json-value">20.3</span>
    }
  ],
  
  <span class="json-key">"water"</span>: {
    <span class="json-key">"source"</span>: {
      <span class="json-key">"ca"</span>: <span class="json-value">50</span>,
      <span class="json-key">"mg"</span>: <span class="json-value">10</span>,
      <span class="json-key">"so4"</span>: <span class="json-value">50</span>,
      <span class="json-key">"cl"</span>: <span class="json-value">50</span>,
      <span class="json-key">"na"</span>: <span class="json-value">10</span>,
      <span class="json-key">"hco3"</span>: <span class="json-value">100</span>
    }
  }
}</pre>
                </div>
            </div>
        </div>
        
        <!-- Slide 5: ISA-88 Overview -->
        <div class="slide">
            <div class="slide-content">
                <h1>ISA-88/S88 Batch Control Standard</h1>
                <p style="font-size: 1.2em; margin-bottom: 20px;">The industrial standard for batch process control</p>
                
                <h3>Key Concepts:</h3>
                <ul style="margin-bottom: 30px;">
                    <li>Separates recipes from equipment</li>
                    <li>Hierarchical recipe structure</li>
                    <li>Enables portability across different equipment</li>
                    <li>Industry standard for pharmaceuticals, chemicals, food & beverage</li>
                </ul>
                
                <div class="isa88-diagram">
                    <div class="recipe-level">
                        <h4>General Recipe</h4>
                        <p>Equipment-independent, enterprise-level recipe defining what to make</p>
                        <small>Example: "Premium Lager Recipe v2.1"</small>
                    </div>
                    
                    <div class="arrow">↓</div>
                    
                    <div class="recipe-level">
                        <h4>Site Recipe</h4>
                        <p>Adapted for specific site capabilities and constraints</p>
                        <small>Example: "Premium Lager - Chicago Plant"</small>
                    </div>
                    
                    <div class="arrow">↓</div>
                    
                    <div class="recipe-level">
                        <h4>Master Recipe</h4>
                        <p>Equipment-specific but not scheduled</p>
                        <small>Example: "Premium Lager - Brewhouse Line 3"</small>
                    </div>
                    
                    <div class="arrow">↓</div>
                    
                    <div class="recipe-level">
                        <h4>Control Recipe</h4>
                        <p>Actual batch execution with specific timing and parameters</p>
                        <small>Example: "Batch #2024-1234, Started 2024-05-26 08:00"</small>
                    </div>
                </div>
                
                <h3>Benefits for Large Scale:</h3>
                <ul>
                    <li>Consistent quality across multiple facilities</li>
                    <li>Complete batch genealogy and traceability</li>
                    <li>Integration with MES and ERP systems</li>
                    <li>Regulatory compliance (FDA 21 CFR Part 11)</li>
                </ul>
            </div>
        </div>
        
        <!-- Slide 6: ISA-88 Control Recipe Example -->
        <div class="slide">
            <div class="slide-content">
                <h1>ISA-88 Control Recipe: Execution Level</h1>
                <p style="font-size: 1.2em; margin-bottom: 20px;">How industrial systems execute a brew</p>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px;">
                    <div>
                        <h3>Key Differences from BeerXML/JSON:</h3>
                        <ul style="font-size: 14px;">
                            <li><strong>State-Based Execution:</strong> Uses state machines (IDLE, RUNNING, HELD, COMPLETE)</li>
                            <li><strong>Equipment Binding:</strong> Dynamically assigns equipment units</li>
                            <li><strong>Real-time Parameters:</strong> Adjusts based on sensor feedback</li>
                            <li><strong>Exception Handling:</strong> Built-in fault recovery procedures</li>
                            <li><strong>Concurrent Operations:</strong> Multiple phases run in parallel</li>
                        </ul>
                    </div>
                    <div>
                        <h3>Control Recipe Components:</h3>
                        <ul style="font-size: 14px;">
                            <li><strong>Procedure:</strong> Overall batch strategy</li>
                            <li><strong>Unit Procedures:</strong> Equipment-specific tasks</li>
                            <li><strong>Operations:</strong> Major processing activities</li>
                            <li><strong>Phases:</strong> Smallest executable elements</li>
                            <li><strong>Transitions:</strong> Conditions to move between steps</li>
                        </ul>
                    </div>
                </div>
                
                <h3>Example Control Recipe Structure (Simplified):</h3>
                <div class="code-example" style="font-size: 12px;">
                    <pre><span class="xml">&lt;ControlRecipe BatchID="2024-0526-001" Product="Premium_Lager_v2.1"&gt;</span>
  <span class="tag">&lt;Header&gt;</span>
    <span class="tag">&lt;StartTime&gt;</span>2024-05-26T08:00:00<span class="tag">&lt;/StartTime&gt;</span>
    <span class="tag">&lt;Equipment&gt;</span>BrewhouseLine3<span class="tag">&lt;/Equipment&gt;</span>
    <span class="tag">&lt;BatchSize&gt;</span>500<span class="tag">&lt;/BatchSize&gt;</span> <span class="xml">&lt;!-- in BBL --&gt;</span>
  <span class="tag">&lt;/Header&gt;</span>
  
  <span class="tag">&lt;Procedure&gt;</span>
    <span class="tag">&lt;UnitProcedure name="MASHING" equipment="MashTun_03"&gt;</span>
      
      <span class="tag">&lt;Operation name="MASH_IN" state="RUNNING"&gt;</span>
        <span class="tag">&lt;Phase name="FILL_WATER"&gt;</span>
          <span class="tag">&lt;Parameter name="volume" value="625" unit="BBL"/&gt;</span>
          <span class="tag">&lt;Parameter name="temperature" value="162" unit="F"/&gt;</span>
          <span class="tag">&lt;Parameter name="flowrate" value="15" unit="BBL/min"/&gt;</span>
          <span class="tag">&lt;ActualStartTime&gt;</span>08:00:15<span class="tag">&lt;/ActualStartTime&gt;</span>
          <span class="tag">&lt;ActualEndTime&gt;</span>08:41:45<span class="tag">&lt;/ActualEndTime&gt;</span>
          <span class="tag">&lt;Report&gt;</span>
            <span class="tag">&lt;ActualVolume&gt;</span>624.7<span class="tag">&lt;/ActualVolume&gt;</span>
            <span class="tag">&lt;ActualTemp&gt;</span>161.8<span class="tag">&lt;/ActualTemp&gt;</span>
          <span class="tag">&lt;/Report&gt;</span>
        <span class="tag">&lt;/Phase&gt;</span>
        
        <span class="tag">&lt;Phase name="ADD_GRAIN"&gt;</span>
          <span class="tag">&lt;Parameter name="grainBill" ref="RECIPE.fermentables"/&gt;</span>
          <span class="tag">&lt;Parameter name="mixSpeed" value="45" unit="RPM"/&gt;</span>
          <span class="tag">&lt;Interlock&gt;</span>WaterLevel &gt; 600 BBL<span class="tag">&lt;/Interlock&gt;</span>
        <span class="tag">&lt;/Phase&gt;</span>
      <span class="tag">&lt;/Operation&gt;</span>
      
      <span class="tag">&lt;Operation name="REST_SCHEDULE"&gt;</span>
        <span class="tag">&lt;Phase name="PROTEIN_REST" optional="true"&gt;</span>
          <span class="tag">&lt;Parameter name="temperature" value="122" unit="F"/&gt;</span>
          <span class="tag">&lt;Parameter name="duration" value="15" unit="min"/&gt;</span>
          <span class="tag">&lt;Transition condition="TempReached AND TimeElapsed"&gt;</span>
            <span class="tag">&lt;NextPhase&gt;</span>SACCHARIFICATION<span class="tag">&lt;/NextPhase&gt;</span>
          <span class="tag">&lt;/Transition&gt;</span>
        <span class="tag">&lt;/Phase&gt;</span>
        
        <span class="tag">&lt;Phase name="SACCHARIFICATION"&gt;</span>
          <span class="tag">&lt;Parameter name="temperature" value="148" unit="F"/&gt;</span>
          <span class="tag">&lt;Parameter name="duration" value="60" unit="min"/&gt;</span>
          <span class="tag">&lt;QualityCheck&gt;</span>
            <span class="tag">&lt;Test name="IodineTest" targetTime="45min"/&gt;</span>
          <span class="tag">&lt;/QualityCheck&gt;</span>
        <span class="tag">&lt;/Phase&gt;</span>
      <span class="tag">&lt;/Operation&gt;</span>
    <span class="tag">&lt;/UnitProcedure&gt;</span>
    
    <span class="xml">&lt;!-- Parallel execution example --&gt;</span>
    <span class="tag">&lt;ParallelExecution&gt;</span>
      <span class="tag">&lt;UnitProcedure name="CIP_FERMENTER" equipment="Fermenter_07"&gt;</span>
        <span class="xml">&lt;!-- Clean fermenter while mashing --&gt;</span>
      <span class="tag">&lt;/UnitProcedure&gt;</span>
    <span class="tag">&lt;/ParallelExecution&gt;</span>
  <span class="tag">&lt;/Procedure&gt;</span>
  
  <span class="tag">&lt;ExceptionHandling&gt;</span>
    <span class="tag">&lt;Fault id="TEMP_DEVIATION"&gt;</span>
      <span class="tag">&lt;Condition&gt;</span>ABS(ActualTemp - SetpointTemp) &gt; 5<span class="tag">&lt;/Condition&gt;</span>
      <span class="tag">&lt;Action&gt;</span>HOLD_PHASE<span class="tag">&lt;/Action&gt;</span>
      <span class="tag">&lt;Alarm&gt;</span>Level2_Operator<span class="tag">&lt;/Alarm&gt;</span>
    <span class="tag">&lt;/Fault&gt;</span>
  <span class="tag">&lt;/ExceptionHandling&gt;</span>
<span class="tag">&lt;/ControlRecipe&gt;</span></pre>
                </div>
                
                <div style="margin-top: 20px; background: #e8f4f8; padding: 15px; border-radius: 8px;">
                    <h4>How This Differs from Homebrew Formats:</h4>
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-top: 10px;">
                        <div>
                            <strong>BeerXML:</strong>
                            <ul style="font-size: 13px;">
                                <li>Static ingredient list</li>
                                <li>Simple time/temp steps</li>
                                <li>No equipment binding</li>
                                <li>No real-time feedback</li>
                            </ul>
                        </div>
                        <div>
                            <strong>Brewfather JSON:</strong>
                            <ul style="font-size: 13px;">
                                <li>Timer notifications</li>
                                <li>Basic sensor integration</li>
                                <li>Cloud sync for logging</li>
                                <li>Limited automation</li>
                            </ul>
                        </div>
                        <div>
                            <strong>ISA-88 Control:</strong>
                            <ul style="font-size: 13px;">
                                <li>Dynamic execution paths</li>
                                <li>Real-time adjustments</li>
                                <li>Fault tolerance</li>
                                <li>Complete audit trail</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Slide 7: Comparison Table -->
        <div class="slide">
            <div class="slide-content">
                <h1>Complete Comparison Matrix</h1>
                
                <table style="font-size: 14px;">
                    <thead>
                        <tr>
                            <th>Aspect</th>
                            <th>Private/Homebrew</th>
                            <th>Small Brewery</th>
                            <th>Medium Brewery</th>
                            <th>Large Industry</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="category-header">
                            <td colspan="5">Recipe Management</td>
                        </tr>
                        <tr>
                            <td><strong>Format</strong></td>
                            <td><span class="format-tag">BeerXML</span></td>
                            <td><span class="format-tag">BeerXML</span><span class="format-tag">JSON</span></td>
                            <td><span class="format-tag">ISA-88 based</span></td>
                            <td><span class="format-tag">ISA-88/S88</span></td>
                        </tr>
                        <tr>
                            <td><strong>Software</strong></td>
                            <td><span class="tool-tag">BeerSmith</span><span class="tool-tag">Brewfather</span></td>
                            <td><span class="tool-tag">BeerSmith Pro</span><span class="tool-tag">Vicinity</span></td>
                            <td><span class="tool-tag">BrewMaxx</span><span class="tool-tag">Orchestra</span></td>
                            <td><span class="tool-tag">SAP</span><span class="tool-tag">Wonderware</span></td>
                        </tr>
                        
                        <tr class="category-header">
                            <td colspan="5">Process Control</td>
                        </tr>
                        <tr>
                            <td><strong>Automation</strong></td>
                            <td>Manual</td>
                            <td>Semi-automated</td>
                            <td>PLC-controlled</td>
                            <td>Full SCADA</td>
                        </tr>
                        <tr>
                            <td><strong>Integration</strong></td>
                            <td>None</td>
                            <td>Basic sensors</td>
                            <td>MES integration</td>
                            <td>ERP+MES+SCADA</td>
                        </tr>
                        
                        <tr class="category-header">
                            <td colspan="5">Quality & Compliance</td>
                        </tr>
                        <tr>
                            <td><strong>QC Level</strong></td>
                            <td>Taste testing</td>
                            <td>Basic lab</td>
                            <td>Full lab + micro</td>
                            <td>Real-time analytics</td>
                        </tr>
                        <tr>
                            <td><strong>Traceability</strong></td>
                            <td>Brew notes</td>
                            <td>Batch records</td>
                            <td>Lot tracking</td>
                            <td>Full genealogy</td>
                        </tr>
                        <tr>
                            <td><strong>Compliance</strong></td>
                            <td>None</td>
                            <td>TTB/State</td>
                            <td>FDA/ISO 9001</td>
                            <td>FDA/HACCP/ISO 22000</td>
                        </tr>
                    </tbody>
                </table>
                
                <div style="margin-top: 30px; padding: 20px; background: #ecf0f1; border-radius: 10px;">
                    <h3>Key Takeaway</h3>
                    <p>As production scales up, recipe formats evolve from human-readable documents to machine-optimized control systems, with increasing emphasis on automation, integration, and compliance.</p>
                </div>
            </div>
        </div>
    </div>
    
    <div class="navigation">
        <button class="nav-btn" id="prevBtn" onclick="changeSlide(-1)">← Previous</button>
        <div class="dots" id="dots"></div>
        <span class="slide-indicator"><span id="currentSlide">1</span> / <span id="totalSlides">7</span></span>
        <button class="nav-btn" id="nextBtn" onclick="changeSlide(1)">Next →</button>
    </div>
    
    <script>
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slide');
        const totalSlides = slides.length;
        
        // Initialize
        document.getElementById('totalSlides').textContent = totalSlides;
        createDots();
        updateSlideVisibility();
        
        function createDots() {
            const dotsContainer = document.getElementById('dots');
            for (let i = 0; i < totalSlides; i++) {
                const dot = document.createElement('div');
                dot.className = 'dot';
                if (i === 0) dot.classList.add('active');
                dot.onclick = () => goToSlide(i);
                dotsContainer.appendChild(dot);
            }
        }
        
        function changeSlide(direction) {
            slides[currentSlide].classList.remove('active');
            if (direction === -1) {
                slides[currentSlide].classList.add('prev');
            } else {
                slides[currentSlide].classList.add('prev');
            }
            
            currentSlide += direction;
            
            if (currentSlide < 0) currentSlide = 0;
            if (currentSlide >= totalSlides) currentSlide = totalSlides - 1;
            
            updateSlideVisibility();
        }
        
        function goToSlide(index) {
            slides[currentSlide].classList.remove('active');
            slides[currentSlide].classList.add('prev');
            currentSlide = index;
            updateSlideVisibility();
        }
        
        function updateSlideVisibility() {
            // Update slides
            slides.forEach((slide, index) => {
                slide.classList.remove('active', 'prev');
                if (index < currentSlide) {
                    slide.classList.add('prev');
                } else if (index === currentSlide) {
                    slide.classList.add('active');
                }
            });
            
            // Update navigation
            document.getElementById('currentSlide').textContent = currentSlide + 1;
            document.getElementById('prevBtn').disabled = currentSlide === 0;
            document.getElementById('nextBtn').disabled = currentSlide === totalSlides - 1;
            
            // Update dots
            document.querySelectorAll('.dot').forEach((dot, index) => {
                dot.classList.toggle('active', index === currentSlide);
            });
        }
        
        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') changeSlide(-1);
            if (e.key === 'ArrowRight') changeSlide(1);
        });
        
        // Touch/swipe support
        let touchStartX = 0;
        let touchEndX = 0;
        
        document.addEventListener('touchstart', e => {
            touchStartX = e.changedTouches[0].screenX;
        });
        
        document.addEventListener('touchend', e => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });
        
        function handleSwipe() {
            if (touchEndX < touchStartX - 50) changeSlide(1);  // Swipe left
            if (touchEndX > touchStartX + 50) changeSlide(-1); // Swipe right
        }
        
        // Convert tables to mobile-friendly cards on small screens
        function createMobileTableViews() {
            if (window.innerWidth > 768) return;
            
            const slides = document.querySelectorAll('.slide');
            
            // Handle slide 2 table
            const slide2 = slides[1];
            if (slide2) {
                const table = slide2.querySelector('table');
                if (table && !slide2.querySelector('.mobile-table-view')) {
                    const mobileView = document.createElement('div');
                    mobileView.className = 'mobile-table-view';
                    
                    const rows = table.querySelectorAll('tbody tr');
                    rows.forEach(row => {
                        const cells = row.querySelectorAll('td');
                        if (cells.length >= 4) {
                            const card = document.createElement('div');
                            card.className = 'mobile-card';
                            
                            card.innerHTML = `
                                <div class="mobile-card-title">${cells[0].textContent}</div>
                                <div class="mobile-card-row">
                                    <span class="mobile-card-label">Annual Output:</span>
                                    <span class="mobile-card-value">${cells[1].textContent}</span>
                                </div>
                                <div class="mobile-card-row">
                                    <span class="mobile-card-label">Typical Systems:</span>
                                    <span class="mobile-card-value">${cells[2].textContent}</span>
                                </div>
                                <div class="mobile-card-row">
                                    <span class="mobile-card-label">Recipe Format:</span>
                                    <span class="mobile-card-value">${cells[3].textContent}</span>
                                </div>
                            `;
                            
                            mobileView.appendChild(card);
                        }
                    });
                    
                    table.parentNode.insertBefore(mobileView, table.nextSibling);
                }
            }
            
            // Handle slide 7 table (comparison matrix)
            const slide7 = slides[6];
            if (slide7) {
                const table = slide7.querySelector('table');
                if (table && !slide7.querySelector('.mobile-table-view')) {
                    const mobileView = document.createElement('div');
                    mobileView.className = 'mobile-table-view';
                    
                    const headers = Array.from(table.querySelectorAll('thead th')).map(th => th.textContent);
                    const rows = table.querySelectorAll('tbody tr');
                    
                    let currentCategory = '';
                    
                    // Group by brewery scale (columns 2-5)
                    for (let i = 1; i < headers.length; i++) {
                        const scaleCard = document.createElement('div');
                        scaleCard.className = 'mobile-card';
                        scaleCard.innerHTML = `<div class="mobile-card-title">${headers[i]}</div>`;
                        
                        rows.forEach(row => {
                            const cells = row.querySelectorAll('td');
                            
                            // Check if this is a category header
                            if (row.classList.contains('category-header')) {
                                currentCategory = cells[0].textContent;
                                const categoryDiv = document.createElement('div');
                                categoryDiv.className = 'mobile-category-header';
                                categoryDiv.textContent = currentCategory;
                                scaleCard.appendChild(categoryDiv);
                            } else if (cells.length > i) {
                                const rowDiv = document.createElement('div');
                                rowDiv.className = 'mobile-card-row';
                                rowDiv.innerHTML = `
                                    <span class="mobile-card-label">${cells[0].textContent}:</span>
                                    <span class="mobile-card-value">${cells[i].innerHTML}</span>
                                `;
                                scaleCard.appendChild(rowDiv);
                            }
                        });
                        
                        mobileView.appendChild(scaleCard);
                    }
                    
                    table.parentNode.insertBefore(mobileView, table.nextSibling);
                }
            }
        }
        
        // Initialize mobile views
        createMobileTableViews();
        
        // Re-create on window resize
        let resizeTimeout;
        window.addEventListener('resize', () => {
            clearTimeout(resizeTimeout);
            resizeTimeout = setTimeout(() => {
                // Remove existing mobile views if switching to desktop
                if (window.innerWidth > 768) {
                    document.querySelectorAll('.mobile-table-view').forEach(view => view.remove());
                    document.querySelectorAll('table').forEach(table => table.style.display = '');
                } else {
                    createMobileTableViews();
                }
            }, 250);
        });
    </script>
</body>
</html>